version: 3

vars:

  V: p2
  
  OP:
    sh: echo "{{.V}}"

  OE:
    sh: echo "$V"


env:
  V: e2
  
  OE:
    sh: echo "$V"

  OP:
    sh: echo "{{.V}}"


tasks:
  
  simple:
    silent: true
    desc: order
    cmds:
    - echo eV=$V pV={{.V}}

  inner:
    silent: true
    desc: order
    cmds:
    - echo eV=$V pV={{.V}}
    vars:
      V: p3
    env:
      V: e3

  prio:
    desc: priority
    cmds:
    - echo pOP={{.OP}} pOE={{.OE}}  eOE=$OE eOP=$OP
